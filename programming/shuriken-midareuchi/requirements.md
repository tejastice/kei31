# 忍者手裏剣みだれうち 要件定義書

## 概要
忍者をテーマにしたインフレ型クリッカーゲーム。クリックで手裏剣を投げ、ポイントを貯めてアップグレードを購入し、より強力な忍者を目指すゲーム。

## 基本仕様

### 機能要件

#### 1. ゲームコア機能
- **クリック攻撃**: 画面クリックで手裏剣を投げてポイント獲得
- **自動攻撃**: 影分身の術による自動手裏剣投げ
- **ポイントシステム**: 手裏剣の威力に応じたポイント計算
- **インフレ型成長**: 指数的な数値増加でやりこみ要素を提供

#### 2. アップグレードシステム
- **20種類のアップグレード**: 基本系(1-5)、中級系(6-10)、上級系(11-15)、超級系(16-20)
- **段階的解放**: 条件達成により新しいアップグレードが解放
- **複合効果**: 複数のアップグレードが相互作用して威力増加
- **コスト増加**: レベルアップごとに必要ポイントが指数的増加

#### 3. アニメーション機能
- **手裏剣飛行**: クリック時に手裏剣が画面を飛び回るアニメーション
- **威力連動演出**: クリック威力に応じて手裏剣数と回転速度が変化
- **自動投げ演出**: 青色フィルターでクリック投げと区別
- **数値更新演出**: スコア更新時のパルスアニメーション

#### 4. データ管理機能
- **自動保存**: 10秒ごとにローカルストレージへ自動保存
- **手動保存**: セーブボタンで即座に保存
- **オフライン進行**: ゲーム終了中も自動投げが継続
- **ゲームリセット**: 確認ダイアログ付きでデータ完全削除

### 非機能要件

#### 1. 技術仕様
- **言語**: HTML, CSS, JavaScript（バニラJS）
- **フレームワーク**: なし（単体で動作）
- **データ保存**: localStorage
- **レスポンシブ**: デスクトップ・モバイル対応

#### 2. パフォーマンス
- **手裏剣管理**: 1.2秒後に自動削除でメモリリーク防止
- **アニメーション最適化**: CSS transformとGPUアクセラレーション
- **数値計算**: 大きな数値（1e21まで）の安全な処理
- **更新頻度**: 100ms間隔での表示更新

#### 3. ユーザビリティ
- **直感的操作**: 画面どこでもクリック可能
- **視覚的フィードバック**: ホバー・クリック時のボタン反応
- **数値表示**: 大きな数値を読みやすい形式で表示（M, B, T, 指数表記）
- **プログレス表示**: 統計情報で進行度を可視化

## ゲームバランス設計

### アップグレード段階
1. **基本系 (コスト: 15 - 12K)**: 基本的な威力とオート機能
2. **中級系 (コスト: 60K - 30M)**: 確率効果と乗算ボーナス
3. **上級系 (コスト: 250M - 125B)**: 指数的成長と転生システム
4. **超級系 (コスト: 5T - 5sxt)**: 次元突破と神域到達

### 数値インフレ設計
- **初期段階**: 1-1000 (線形成長)
- **中期段階**: 1K-1M (指数成長開始)
- **後期段階**: 1M-1T (急激なインフレ)
- **終盤段階**: 1T以上 (天文学的数値)

## ファイル構成
```
shuriken-midareuchi/
├── index.html          # メインゲーム画面
├── style.css           # スタイル定義
├── game.js             # ゲームロジック
├── images/             # 画像リソース
│   ├── ninja.png       # 忍者キャラクター
│   └── shuriken.png    # 手裏剣画像
├── test.html           # 画像なしテスト用
├── README.md           # プロジェクト説明
└── requirements.md     # この要件定義書
```

## 使用方法
1. index.htmlをブラウザで開く
2. 忍者キャラクターまたは画面をクリック
3. ポイントを貯めてアップグレードを購入
4. より強力な忍者を目指して継続プレイ

## 技術的制約
- モダンブラウザ必須（ES6クラス構文使用）
- localStorage対応ブラウザ必須
- 画像ファイルの配置が必要
- JavaScriptの有効化が必須

## 将来的な拡張案
- 効果音とBGMの追加
- 実績システムの実装
- ランキング機能（ローカル）
- より多彩なアップグレード
- テーマ切り替え機能