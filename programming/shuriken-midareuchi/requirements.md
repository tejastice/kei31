# 忍者手裏剣みだれうち 要件定義書

## プロジェクト概要

### プロジェクト名
忍者手裏剣みだれうち (Ninja Shuriken Midareuchi)

### 目的
クリックで手裏剣を投げまくるインフレ型クリッカーゲーム。アップグレードシステムで無限の成長を楽しめるゲーム体験を提供。

### ターゲットユーザー
- クリッカーゲーム好き
- カジュアルゲーマー
- インフレゲーム愛好家
- 日本文化（忍者）に興味を持つ人
- 達成感を求めるユーザー

## 機能要件

### 1. ゲームコアシステム
- **クリックアタック**: 忍者キャラクターや画面クリックで手裏剣投擲
- **ポイントシステム**: 手裏剣の威力に応じたポイント獲得
- **自動攻撃**: 影分身の術による継続的な手裏剣生成
- **インフレシステム**: 指数的数値増加で継続的な成長体験
- **手裏剣アニメーション**: クリック時の視覚的フィードバック

### 2. アップグレードシステム
- **20段階のアップグレード**: 基本(1-5)、中級(6-10)、上級(11-15)、超級(16-20)
- **条件付き解放**: 段階的なアップグレード進展システム
- **複合効果**: 複数アップグレードの相乗効果
- **指数的コスト**: レベルアップごとのコスト増加
- **購入可能性表示**: 保有ポイントに応じたボタン状態

### 3. ユーザーインターフェース
- **スコアパネル**: ポイント、総手裏剣数、毎クリック威力、毎秒生成量表示
- **アップグレードパネル**: 全アップグレードの一覧表示と購入ボタン
- **忍者キャラクター**: 中央に配置されたクリッカブルな忍者
- **コントロールボタン**: セーブ・リセット機能
- **数値フォーマット**: 大きな数値の読みやすい表示

### 4. データ管理・永続化
- **自動保存**: 10秒間隔のバックグラウンド保存
- **手動保存**: ユーザー操作による即座保存
- **オフライン進行**: ゲーム閉鎖中の自動進行計算
- **リセット機能**: 確認ダイアログ付きデータ削除
- **ローカルストレージ**: ブラウザベースのデータ保存

## 技術要件

### フロントエンド
- **言語**: HTML5, CSS3, JavaScript (ES6+)
- **フレームワーク**: Vanilla JS（高パフォーマンスのため）
- **レスポンシブ**: デスクトップ・モバイル対応
- **クラス構造**: ES6 Classを活用したオブジェクト指向設計

### パフォーマンス最適化
- **メモリ管理**: 手裏剣オブジェクトの自動削除（1.2秒後）
- **GPUアクセラレーション**: CSS TransformとTransition活用
- **数値処理**: 大数値（1e21まで）の安全な処理
- **更新頻度**: 100ms間隔の最適化されたリアルタイム更新
- **イベントハンドリング**: 効率的なクリックイベント管理

### デザイン・UI
- **カラーパレット**: 忍者テーマのダークトーン
- **アニメーション**: 手裏剣飛行エフェクト
- **レスポンシブレイアウト**: 3カラム構成（スコア・ゲーム・アップグレード）
- **ナビゲーション**: デスクトップ・モバイル対応ホームボタン

### SEO・メタタグ要件
- **Open Graph**: ゲームコンテンツとしての最適化
- **Twitter Card**: ゲームスクリーンショット表示
- **説明文**: インフレゲームとしての特徴を明確化

## ゲームバランス設計

### アップグレード段階
1. **基本系 (コスト: 15 - 12K)**: 基本的な威力とオート機能
2. **中級系 (コスト: 60K - 30M)**: 確率効果と乗算ボーナス
3. **上級系 (コスト: 250M - 125B)**: 指数的成長と転生システム
4. **超級系 (コスト: 5T - 5sxt)**: 次元突破と神域到達

### 数値インフレ設計
- **初期段階**: 1-1000 (線形成長)
- **中期段階**: 1K-1M (指数成長開始)
- **後期段階**: 1M-1T (急激なインフレ)
- **終盤段階**: 1T以上 (天文学的数値)

## ファイル構成
```
shuriken-midareuchi/
├── index.html          # メインゲーム画面
├── style.css           # スタイル定義
├── game.js             # ゲームロジック
├── images/             # 画像リソース
│   ├── ninja.png       # 忍者キャラクター
│   └── shuriken.png    # 手裏剣画像
├── test.html           # 画像なしテスト用
├── README.md           # プロジェクト説明
└── requirements.md     # この要件定義書
```

## 使用方法
1. index.htmlをブラウザで開く
2. 忍者キャラクターまたは画面をクリック
3. ポイントを貯めてアップグレードを購入
4. より強力な忍者を目指して継続プレイ

## 技術的制約
- モダンブラウザ必須（ES6クラス構文使用）
- localStorage対応ブラウザ必須
- 画像ファイルの配置が必要
- JavaScriptの有効化が必須

## ファイル構成
```
shuriken-midareuchi/
├── index.html          # メインゲーム画面
├── style.css           # スタイル定義
├── game.js             # ゲームロジック
├── images/             # リソースフォルダ
│   ├── ninja.png       # 忍者キャラクター
│   ├── shuriken.png    # 手裏剣画像
│   └── shuriken-midareuchi.jpg # OG画像
├── test.html           # テスト用ファイル
├── README.md           # プロジェクト説明
└── requirements.md     # この要件定義書
```

## 今後の拡張予定
- **音響効果**: 手裏剣音・BGM・効果音の追加
- **実績システム**: マイルストーン達成機能
- **ランキング**: ローカルスコアボード機能
- **アップグレード拡張**: より多様な強化システム
- **テーマシステム**: 季節・イベントテーマ
- **マルチプレイ**: リアルタイム対戦機能
- **モバイルアプリ**: PWA対応

## パフォーマンス・セキュリティ要件
- **軽量動作**: バニラJSによる高速処理
- **メモリ効率**: 動的オブジェクト管理
- **データ保護**: ローカルストレージのみ使用
- **ブラウザ対応**: モダンブラウザ全対応
- **モバイル最適化**: タッチ操作・サイズ対応

---

**作成日**: 2025年6月2日  
**作成者**: AIマンガ家けいすけ  
**最終更新**: 2025年6月3日  
**バージョン**: 2.0